#include <stdio.h>
#include <time.h>
#include <unistd.h>

int main() {
    int hour, minute, second;
    char period[3];

    while(1) {
        time_t t = time(NULL);
        struct tm *tm_info = gmtime(&t);
        hour = tm_info->tm_hour + 6;
        if(hour >= 24) hour -= 24;
        minute = tm_info->tm_min;
        second = tm_info->tm_sec;

        if(hour >= 12) {
            snprintf(period, sizeof(period), "PM");
            if(hour > 12) hour -= 12;
        } else {
            snprintf(period, sizeof(period), "AM");
            if(hour == 0) hour = 12;
        }

        printf("\r%02d:%02d:%02d %s", hour, minute, second, period);
        fflush(stdout);

        sleep(1);
    }

    return 0;
}
